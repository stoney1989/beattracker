package ch.fhnw.tvver;

import java.io.File;
import java.io.IOException;
import java.util.EnumSet;

import javax.sound.sampled.UnsupportedAudioFileException;

import ddf.minim.analysis.FFT;

public class FFTBeatDetection extends AbstractBeatTracker {

	final  int   SAMPLE_RATE = (int)getSampleRate();	
	final  int   SAMPLE_SIZE   = 1024;
	
	final float HOP_TIME  = 0.010f;
	final float FFT_TIME  = 0.04644f;
	
	public FFTBeatDetection(File track)throws UnsupportedAudioFileException, IOException {
		super(track, EnumSet.of(Flags.REPORT));		
		
		
		
	}
	
	
	
	
	
	@Override
	public void run() {
		try{
			
			int hopSize = (int) Math.round(SAMPLE_RATE * HOP_TIME);
			int fftSize = (int) Math.round( Math.pow(2, Math.round( Math.log( FFT_TIME * SAMPLE_RATE) / Math.log(2) ) ) );
			
			
			float[] buffer =  new float[1];
			while( getSamples(buffer) ){
				
			}
		
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}

	

}
